//======>>>>>>摘自郭霖CSDN博客：http://blog.csdn.net/guolin_blog/article/details/8689140======>>>>>>
/**
 * 判断当前界面是否是桌面
 */
private boolean isHome() {
	ActivityManager mActivityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);
	List<RunningTaskInfo> rti = mActivityManager.getRunningTasks(1);
	return getHomes().contains(rti.get(0).topActivity.getPackageName());
}

/**
 * 获得属于桌面的应用的应用包名称
 * 
 * @return 返回包含所有包名的字符串列表
 */
private List<String> getHomes() {
	List<String> names = new ArrayList<String>();
	PackageManager packageManager = this.getPackageManager();
	Intent intent = new Intent(Intent.ACTION_MAIN);
	intent.addCategory(Intent.CATEGORY_HOME);
	List<ResolveInfo> resolveInfo = packageManager.queryIntentActivities(intent,
			PackageManager.MATCH_DEFAULT_ONLY);
	for (ResolveInfo ri : resolveInfo) {
		names.add(ri.activityInfo.packageName);
	}
	return names;
}
//<<<<<<======摘自郭霖CSDN博客：http://blog.csdn.net/guolin_blog/article/details/8689140<<<<<<======
